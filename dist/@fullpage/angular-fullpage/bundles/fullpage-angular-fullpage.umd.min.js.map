{"version":3,"names":["fullpage","window","require","FullpageDirective","platformId","renderer","this","ref","EventEmitter","prototype","ngAfterViewInit","isPlatformBrowser","initFullpage","isPlatformServer","fullpage_api","id","options","addBuildFunction","emit","_this","build","activeSection","getActiveSection","activeSlide","getActiveSlide","destroyFullpage","addClass","item","destroy","ngOnDestroy","i0","PLATFORM_ID","Renderer2","selectors","inputs","outputs","AnchorLinkDirective","href","onClick","event","length","preventDefault","location","hash","hostBindings","rf","ctx","$event","AngularFullpageModule","imports","declarations","exports"],"sources":["../../../../src/angular-fullpage/lib/fullpage.directive.ts","../../../../src/angular-fullpage/lib/angular-fullpage.module.ts"],"sourcesContent":["// tslint:disable-next-line:max-line-length\r\nimport { Directive, Input, AfterViewInit, OnDestroy, Output, EventEmitter, Renderer2, HostListener, PLATFORM_ID, Inject } from '@angular/core';\r\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\r\n\r\ndeclare var require;\r\nlet fullpage = null;\r\nif (!fullpage && typeof window !== 'undefined') {\r\n  fullpage = require('fullpage.js/dist/fullpage.extensions.min');\r\n}\r\n\r\n@Directive({\r\n  selector: '[fullpage]'\r\n})\r\nexport class FullpageDirective implements AfterViewInit, OnDestroy {\r\n  @Input() id: any;\r\n  @Input() options: any;\r\n  @Output() ref = new EventEmitter();\r\n  fullpage_api: any;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private platformId: Object,\r\n    private renderer: Renderer2\r\n  ) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.initFullpage();\r\n    }\r\n    if (isPlatformServer(this.platformId)) {\r\n      // server side code\r\n    }\r\n  }\r\n\r\n  initFullpage(): void {\r\n    this.fullpage_api = new fullpage('#' + this.id, this.options);\r\n    this.addBuildFunction();\r\n    this.ref.emit(this.fullpage_api);\r\n  }\r\n\r\n  addBuildFunction(): void {\r\n    this.fullpage_api.build = () => {\r\n      const activeSection = this.fullpage_api.getActiveSection();\r\n      const activeSlide = this.fullpage_api.getActiveSlide();\r\n\r\n      this.destroyFullpage();\r\n\r\n      if (activeSection) {\r\n        this.renderer.addClass(activeSection.item, 'active');\r\n      }\r\n\r\n      if (activeSlide) {\r\n        this.renderer.addClass(activeSlide.item, 'active');\r\n      }\r\n\r\n      this.initFullpage();\r\n    };\r\n  }\r\n\r\n  destroyFullpage(): void {\r\n    if (typeof this.fullpage_api !== 'undefined' && typeof this.fullpage_api.destroy !== 'undefined') {\r\n      this.fullpage_api.destroy('all');\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroyFullpage();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[href]'\r\n})\r\nexport class AnchorLinkDirective {\r\n  @Input() href: string = '';\r\n\r\n  @HostListener('click', ['$event']) onClick(event) {\r\n    if (this.href.length > 0 && this.href[0] === '#') {\r\n      event.preventDefault();\r\n      window.location.hash = this.href;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { AnchorLinkDirective, FullpageDirective } from \"./fullpage.directive\";\r\n\r\n\r\n@NgModule({\r\n  imports: [],\r\n  declarations: [FullpageDirective, AnchorLinkDirective],\r\n  exports: [FullpageDirective, AnchorLinkDirective]\r\n})\r\nexport class AngularFullpageModule { }\r\n"],"mappings":"mYAKA,IAAIA,EAAW,KACVA,GAA8B,oBAAXC,SACtBD,EAAWE,QAAQ,6C,iBAYnB,SAAAC,EAC+BC,EACrBC,GADqBC,KAAAF,aACrBE,KAAAD,WALAC,KAAAC,IAAM,IAAIC,c,QAQpBL,EAAAM,UAAAC,gBAAA,WACMC,oBAAkBL,KAAKF,aACzBE,KAAKM,eAEHC,mBAAiBP,KAAKF,W,EAK5BD,EAAAM,UAAAG,aAAA,WACEN,KAAKQ,aAAe,IAAId,EAAS,IAAMM,KAAKS,GAAIT,KAAKU,SACrDV,KAAKW,mBACLX,KAAKC,IAAIW,KAAKZ,KAAKQ,a,EAGrBX,EAAAM,UAAAQ,iBAAA,eAAAE,EAAAb,KACEA,KAAKQ,aAAaM,MAAQ,WACxB,IAAMC,EAAgBF,EAAKL,aAAaQ,mBAClCC,EAAcJ,EAAKL,aAAaU,iBAEtCL,EAAKM,kBAEDJ,GACFF,EAAKd,SAASqB,SAASL,EAAcM,KAAM,UAGzCJ,GACFJ,EAAKd,SAASqB,SAASH,EAAYI,KAAM,UAG3CR,EAAKP,c,GAITT,EAAAM,UAAAgB,gBAAA,gBACmC,IAAtBnB,KAAKQ,mBAAqE,IAA9BR,KAAKQ,aAAac,SACvEtB,KAAKQ,aAAac,QAAQ,M,EAI9BzB,EAAAM,UAAAoB,YAAA,WACEvB,KAAKmB,iB,wCApDItB,GAAiB2B,EAAA,kBAOlBC,eAAWD,EAAA,kBAAAA,EAAAE,WAAA,E,iCAPV7B,EAAiB8B,UAAA,qBAAAC,OAAA,CAAAnB,GAAA,KAAAC,QAAA,WAAAmB,QAAA,CAAA5B,IAAA,S,iBAwD9B,SAAA6B,IAIW9B,KAAA+B,KAAe,E,QAEWD,EAAA3B,UAAA6B,QAAA,SAAQC,GACrCjC,KAAK+B,KAAKG,OAAS,GAAsB,MAAjBlC,KAAK+B,KAAK,KACpCE,EAAME,iBACNxC,OAAOyC,SAASC,KAAOrC,KAAK+B,K,wCANrBD,EAAmB,E,iCAAnBA,EAAmBH,UAAA,iBAAAW,aAAA,SAAAC,EAAAC,G,8CAAnBA,EAAAR,QAAAS,EAAe,G,+BC/D5B,W,kCAAaC,I,6DAAAA,EAAqB,EAAAC,QAAA,CAJvB,O,gEAIED,EAAqB,CAAAE,aAAA,CAHjB/C,EAAmBiC,GAAmBe,QAAA,CAC3ChD,EAAmBiC,K"}